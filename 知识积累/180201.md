---
title: php异步编程
date: 2018-2-01 10:58:02
tags: mysql
---

### mysql explain   
1. table :显示这一行数据是关于那张表的。  
2. type： 显示连接使用了哪一种类型，从最好到最差的连接类型为const、eq_reg 、 ref 、range、index、all，一般来说查询
至少达到rang程度，最好能达到ref。  
          system：表只有一行，这是const连接的特殊情况。  
          const：表中的一个记录的最大值能够匹配这个查询（索引可以是主键索引或者唯一索引）。因为只有一行，所以这个值实际就是常数。
          mysql优先读取这个值然后把它当做常数来对待。  
          eq_ref：在连接中，mysql在查询时，从前面的表中，对每一个记录的联合都从表中读取一个记录。在查询中使用了索引作为主键或者唯一键的全部时使用。
          ref：这个链接类型只有在查询使用了不是唯一或者主键或者是这些类型的部分发生，对于之前的表的每个行联合，全部记录都将从表中读取。
          这个类型严重依赖于根据索引匹配的记录多少，一般来说越少越好。
          range：这个连接类型使用索引返回一个范围中的行，比如使用\>或者\<查找东西时候。  
          index：这个连接类型对前面的表中的每一个记录联合进行完全扫描（比all更好，因为索引一般小于表数据）
          all：这个连接类型对于前面每一条记录联合进行完全扫描，这个一般比较糟糕。应该尽量避免。  
          
3. possible_key：显示可能应用到这张表中的索引。如果为空，没有可能的索引。可以为相关的域从where语句中选择一个合适的语句。  
4. key：实际使用的索引，如果是NULL则没有使用索引。很少情况下mysql会选择优化不足的索引。这种情况下可以在select语句中使用use index（indexname）
或来强制使用一个索引或者用ignore index（index）来强制mysql忽略索引。  
5. key_len：显示使用索引的长度，在不损失精确性的情况下，长度越短越好。  
6. ref： 显示索引的那一列别试用了，如果可能的话，是一个常数。  
7. rows：mysql认为必须检查的用来返回请求数据的行数  
8. extra：关于mysql如何解析查询的额外信息。
          distinct：一旦mysql找到了与行相联合匹配的行，就不在搜索了。  
          Not exists: mysql优化了left join，一旦找到了匹配的left join的标准，就不在搜索了。
          Range checked for esach record（index map）：没有找到理想的索引，因此对于从前面表中来的每一行组合，mysql检查使用哪一个索引
          并用它来从表中返回行。这是使用索引的最慢的连接之一。  
          Using filesort ：看到这个，查询就需要优化了。mysql需要进行额外的步骤来发现如何对返回的行排序，根据链接类型以及存储排序键值和匹配
          条件的全部行的行指针来排序全部行。
          Using index：列数据是从仅仅使用了索引中的信息而没有读取实际的行动的表返回，这发生在对表的全部的请求列都是同一个索引的部分的时候。
          Using temporary：看到这个的时候，就需要优化了。这里mysql需要创建一个临时表来存储结果，这通常发生在对不同的列集进行order by上，而不是Group by。
          Using where：使用了where从句来限制那些行将于下一张表匹配或者时返回给用户。如果不想返回表中的全部行，并且链接类型all或index，这就会发生
          或者时查询有问题不同连接类型的解释（按照效率高低的顺序排序）
          